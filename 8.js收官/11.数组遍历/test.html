<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <ul>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>
    <script>
        /**
         * forEach
         * filter
         * map
         * every
         * some
         * reduce
         * reduceRight
         * 
        */
        var arr = [
            {name: 'cst', age: '18'}, 
            {name: 'jc', age: '20'}, 
            {name: 'dxm', age: '50'} , 
            {name: 'dcg', age: '30'}
        ]
        var arrStr = [
            {name: 'cst', age: '18',des:"紧追"}, 
            {name: 'jc', age: '20',des:"紧追2"}, 
            {name: 'dxm', age: '20',des:"紧追3"} , 
            {name: 'dcg', age: '30',des:"紧追4"}
        ]
        // forEach
       /* arr.forEach(function(item,index,self){
            console.log(index,item,self)
            console.log(this);//this指向所有的 li 标签
            this[index].innerHTML = item['name']
        },document.getElementsByTagName('li'))*/

        // 原理
        /*Array.prototype.myFor = function (func) {  
            // 这里的this 指向的是数组
            var _arr = this,len = _arr.length,parm2 = arguments[1] || window;
            for(var i = 0; i < len; i++){
                // item 对应执行当前此的数据 元素  index 为索引 self 为数组本身
                func.apply(parm2,[_arr[i],i,_arr])
            }
        }
        arr.myFor(function(item,index,self){
            console.log(index,item,self)
            console.log(this);//this指向所有的 li 标签
            this[index].innerHTML = item['name']
        },document.getElementsByTagName('li'))*/

        // filter  item,index,self
        // filter => 返回的是新数组

    //    var newArr = arrStr.filter(function(item,index,self){
    //         console.log(item,index,self)
    //         console.log(item['name'])
    //         if(item['age'] == 20){
    //             return true
    //         }
    //         // return true;//true 变色返回，false 表示不返回
    //     })

        /*Array.prototype.myFilter = function (func){
            var _arr = this,len = _arr.length,parm2 = arguments[1] || window;
            var newArr = [];
            for(var i = 0; i < len; i++){
                func.apply(parm2,[_arr[i],i,_arr]) ? newArr.push(_arr[i]) : ''
            }
            return newArr
        }
        var newArr = arrStr.myFilter(function(item,index,self){
            console.log(item,index,self)
            console.log(item['name'])
            if(item['age'] == 20){
                return true
            }
            // return true;//true 变色返回，false 表示不返回
        })*/

        // map -- 映射
       /* var newArr = arrStr.map(function(item,index,self){
            console.log(item,index,self,this)
            console.log(item['name'])
            item['name'] = item['name']+10
            return item;
        },{name:'csx'})*/
        
        /*Array.prototype.myMap = function (func){
            var _arr = this,len = _arr.length,parm2 = arguments[1] || window;
            var newArr = [];
            for(var i = 0; i < len; i++){
                func.apply(parm2,[_arr[i],i,_arr]);
            }
            return newArr
        }
        var newArr = arrStr.myMap(function(item,index,self){
            console.log(item,index,self,this)
            console.log(item['name'])
            item['name'] = item['name']+10
            return item;
        },{name:'csx'})*/
        // every
        /*var flag = arrStr.every(function(item,index,self){
            console.log(item,index,self,this)
            return item['age'] > 20;//都返回true时，结果true ；否则为false
        },{name:'csx'})*/
        /*Array.prototype.myEvery = function(func){
            var _arr = this,len = _arr.length,parme2 = arguments[1] || window;
            var flag = true;
            for(var i = 0; i < len; i ++){
                if(func.apply(parme2,[_arr[i],i,_arr])){
                    flag = false;
                    break;//结束循环
                }
            }
            return flag
        }
        var flag = arrStr.myEvery(function(item,index,self){
            console.log(item,index,self,this)
            return item['age'] > 20;//都返回true时，结果true ；否则为false
        },{name:'csx'})*/

        // some

        // reduce

        var cookieStr = "BIDUPSID=081B296398663CE5E915580F360027D3; PSTM=1577440310; BAIDUID=081B296398663CE55A95F49405B1C557:FG=1; BD_UPN=12314353; BDSFRCVID=xntOJeC624UVDinu-8CyEXKJl2K-BgQTH6aVRqIbppMANFCem7TmEG0Pof8g0KubinsSogKKBeOTHgCF_2uxOjjg8UtVJeC6EG0Ptf8g0f5; H_BDCLCKID_SF=tJKf_KPyJII3fP36q46EbJt02qoXetJyaR3OWtbvWJ5TMC_m3qjUMtC0qH7mhxQvW2QQoqkE0J3GShPC-qjCKfFVKh3u3x6l0KTL_MbE3l02Vb7Ie-t2ynLVMfTeQ-RMW23G0l7mWn3TsxA45J7cM4IseboJLfT-0bc4KKJxbnLWeIJIjj6jK4JKjGKtq6cP; H_PS_PSSID=1453_21092_26350_22159; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; delPer=0; BD_HOME=0; BD_CK_SAM=1; PSINO=1; H_PS_645EC=ffd5DO1%2BIMK7Sh%2FZOG0aG1T3k8mG%2FqqTve7cFh%2BSp3gUQzotkuqA7aAh4CQ";
        var initalVal = {name:"cst"};//initalVal 初始化
        // reduce 返回一个值  function中的参数 prevValue(先前数) curValue(当前数) index 索引  self 自身数组
        var lastValue = arrStr.reduce(function(prevValue,curValue,index,self){
            console.log(prevValue,curValue,index,self)
            prevValue.name += 1 
            return prevValue
        },initalVal) 

        /*Array.prototype.myReduce = function (func,initalVal) {  
            var _arr = this, len = _arr.length,parme2 = arguments[2] || window;

            for(var i = 0; i < len; i++){
                initalVal = func.apply(parme2,[initalVal,_arr[i],i,_arr])
            }
            return initalVal
        }
        var lastValue = arrStr.myReduce(function(prevValue,curValue,index,self){
            console.log(prevValue,curValue,index,self)
            prevValue.name += 1 
            return prevValue
        },initalVal) */
    </script>
</body>
</html>